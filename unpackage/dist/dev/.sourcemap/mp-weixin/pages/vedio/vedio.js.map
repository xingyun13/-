{"version":3,"sources":["uni-app:///main.js","webpack:///D:/微信开发者工具/weixinxiaochengxu/uni-music/uni-music/pages/vedio/vedio.vue?d21f","webpack:///D:/微信开发者工具/weixinxiaochengxu/uni-music/uni-music/pages/vedio/vedio.vue?e091","webpack:///D:/微信开发者工具/weixinxiaochengxu/uni-music/uni-music/pages/vedio/vedio.vue?2230","webpack:///D:/微信开发者工具/weixinxiaochengxu/uni-music/uni-music/pages/vedio/vedio.vue?a081","uni-app:///pages/vedio/vedio.vue","webpack:///D:/微信开发者工具/weixinxiaochengxu/uni-music/uni-music/pages/vedio/vedio.vue?8992","webpack:///D:/微信开发者工具/weixinxiaochengxu/uni-music/uni-music/pages/vedio/vedio.vue?d569"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;kDAAA;;;AAGA;AACA,4F,8FAHA;AACAA,EAAE,CAACC,iCAAH,GAAuCC,mBAAvC,CAGAC,UAAU,CAACC,cAAD,CAAV,C;;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAkH;AAClH;AACyD;AACL;AACc;;;AAGlE;AACuL;AACvL,gBAAgB,2LAAU;AAC1B,EAAE,2EAAM;AACR,EAAE,gFAAM;AACR,EAAE,yFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,oFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAssB,CAAgB,qrBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC2D1tB;AACA,0F;AACA;AACA,MADA,kBACA;AACA;AACA,mBADA;AAEA,eAFA;AAGA,oBAHA;AAIA,wBAJA;AAKA,aALA;;AAOA,GATA;AAUA,QAVA,oBAUA;AACA;AACA,GAZA;AAaA;AACA,gBADA,0BACA;AACA,4DADA,SACA,GADA;AAEA;AACA;AACA;AACA;AACA,0DANA;AAOA,KARA;AASA,aATA,qBASA,EATA,EASA;AACA;AACA;AACA;AACA,qBADA;;AAGA;AACA,KAhBA;AAiBA,oBAjBA,4BAiBA,KAjBA,EAiBA;AACA,qBADA;AAEA,sEAFA,SAEA,MAFA;AAGA,kCAHA;AAIA;AACA,sDADA;AAEA,oFAFA,SAEA,MAFA;AAGA,4DAHA;AAIA,kCAJA,+HAJA,SAIA,aAJA;;AAUA;AACA;AACA;AAZA,8EAaA,CA9BA;AA+BA,eA/BA,uBA+BA,EA/BA,EA+BA;AACA;AACA;AACA;AACA;AACA;AACA,KArCA;AAsCA,eAtCA,yBAsCA;AACA;AACA;AACA;AACA,KA1CA;AA2CA,iBA3CA,2BA2CA;AACA,mBADA,GACA,gBADA;AAEA,uBAFA,GAEA,qBAFA;AAGA;AACA,qBAJA,GAIA,CAJA;AAKA;AACA;AACA;AACA,qBARA,GAQA,kBARA;AASA,qFATA,SASA,oBATA;;AAWA;AACA,sDADA;AAEA,oFAFA,SAEA,MAFA;AAGA,4DAHA;AAIA,kCAJA,iIAXA,UAWA,aAXA;;AAiBA,yBAjBA,GAiBA,uBAjBA;AAkBA;AACA;AACA;AACA,+CArBA;AAsBA,KAjEA;AAkEA;;AAEA;AACA;AACA,kCADA;AAEA,oCAFA;;AAIA,OALA,MAKA;AACA;AACA,gCADA;AAEA,oCAFA;;;AAKA;AACA,KAhFA;AAiFA,YAjFA,sBAiFA;AACA;AACA,mCADA;;AAGA,KArFA,EAbA,E;;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAi0C,CAAgB,4tCAAG,EAAC,C;;;;;;;;;;;ACAr1C;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/vedio/vedio.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/vedio/vedio.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./vedio.vue?vue&type=template&id=3d64387e&\"\nvar renderjs\nimport script from \"./vedio.vue?vue&type=script&lang=js&\"\nexport * from \"./vedio.vue?vue&type=script&lang=js&\"\nimport style0 from \"./vedio.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/vedio/vedio.vue\"\nexport default component.exports","export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--16-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vedio.vue?vue&type=template&id=3d64387e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vedio.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/babel-loader/lib/index.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--12-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vedio.vue?vue&type=script&lang=js&\"","<template>\n  <view>\r\n    <view class=\"\" v-if=\"\">\r\n      \r\n    </view>\r\n    <!-- 头部区域 -->\n    <view class=\"videoContainer\">\r\n      <view class=\"header\">\r\n        <image src=\"../../static/images/logo.png\"></image>\r\n        <view class=\"search\" @click=\"toSearch()\">\r\n          <text>搜索音乐</text>\r\n        </view>\r\n        \r\n      </view>\r\n    </view>\r\n    <!-- 导航区域 -->\r\n    <scroll-view scroll-x enable-flex class=\"navScroll\" :scroll-into-view=\"'scroll'+navId\" scroll-with-animation>\r\n      <view class=\"navItem\" v-for=\"(item,i) in videoList\" :key=\"item.id\" :id=\"'scroll'+item.id\">\r\n        <view :class=\"[navId===item.id?'active':'']\" @click=\"changeNav(item.id)\">\r\n          {{item.name}}\r\n        </view>\r\n      </view>\r\n    </scroll-view>\r\n    <!-- 视频列表区域 -->\r\n    <scroll-view \r\n    scroll-y  \r\n    class=\"videoScroll\" \r\n    @refresherrefresh=\"handlefresh()\" \r\n    refresher-enabled=\"true\"\r\n    :refresher-triggered=\"isRefresher\"\r\n    @scrolltolower=\"handleToLower()\"\r\n    >\r\n      <view class=\"videoItem\" v-for=\"(item,i) in videoLists\" :key=\"i\">\r\n        <video :src=\"item.url\" controls   @click=\"handlevideo(item.id)\" :id=\"item.id\" objectFit=\"fill\"></video>\r\n        <view class=\"content\">{{item.data.title}}</view>\r\n              <view class=\"footer\">\r\n                <image class=\"avatar\" :src=\"item.data.creator.avatarUrl\"></image>\r\n                <text class=\"nickName\">{{item.data.creator.nickname}}</text>\r\n                <view class=\"comments_praised\">\r\n                  <text class=\"item\">\r\n                    <text class=\"iconfont icon-buoumaotubiao15\"></text>\r\n                    <text class=\"count\">{{item.data.praisedCount}}</text>\r\n                  </text>\r\n                  <text class=\"item\">\r\n                    <text class=\"iconfont icon-pinglun1\"></text>\r\n                    <text class=\"count\">{{item.data.commentCount}}</text>\r\n                  </text>\r\n                  <button open-type=\"share\" class=\"item btn\">\r\n                    <text class=\"iconfont icon-gengduo\"></text>\r\n                  </button>\r\n                </view>\r\n              </view>\r\n      </view>\r\n      \r\n    </scroll-view>\n  </view>\n</template>\n\n<script>\nimport { title } from 'process';\nimport request from '../../utils/request';\n  export default {\n    data() {\n      return {\n        videoList:[],\r\n        navId: '',\r\n        videoLists:[],\r\n        isRefresher:false,\r\n        arr:[]\n      };\n    },\r\n    onLoad(){\r\n      this.getvedioList()\r\n    },\r\n    methods:{\r\n      async getvedioList(){\r\n        const res=await request('/video/group/list');\r\n        this.videoList=res.data.slice(0,14)\r\n        this.navId=res.data[0].id\r\n        // console.log(this.navId);\r\n        // console.log(this.videoList);\r\n        this.getvedioListData(this.$data.navId)\r\n      },\r\n      changeNav(id){\r\n        this.navId=id\r\n        // console.log(this.navId);\r\n        uni.showLoading({\r\n          title:\"正在加载\"\r\n        })\r\n        this.getvedioListData(this.$data.navId)\r\n      },\r\n      async getvedioListData(navId){\r\n         if (!navId) return;\r\n            let result = await request('/video/group', {id:navId})\r\n            uni.hideLoading();\r\n            let videoListData=await Promise.all(result.datas.map(async item=>{\r\n              item.id=item.data.vid\r\n              let result=await request('/video/url',{id:item.id})\r\n              item.url=result.urls[0].url\r\n              return item\r\n            }))\r\n            this.videoLists=videoListData\r\n            this.isRefresher=false\r\n        // console.log(this.videoLists);\r\n      },\r\n      handlevideo(id){\r\n        let vid=id;\r\n        //&&如果第一个表达式为真才会执行第二个表达式\r\n        this.vid !== vid && this.videoContent && this.videoContent.stop();\r\n        this.vid=vid;\r\n        this.videoContent=uni.createVideoContext(vid);        \r\n      },\r\n      handlefresh(){\r\n        // console.log(\"123\");\r\n        this.isRefresher=true;\r\n        this.getvedioList(this.$data.navId)\r\n      },\r\n      async handleToLower(){  //上拉加载\r\n       let arr = this.$data.arr\r\n       let trigger = console.log('抛出的记录点');\r\n       arr.push(trigger)\r\n       let start = 0;\r\n      for (let i = 0; i < arr.length; i++) {\r\n        start++\r\n      }\r\n        let navId = this.$data.navId\r\n        let getVideoMoreListData = await request('/video/group',{id:navId,offset:start})\r\n         // console.log(getVideoMoreListData);\r\n        let videoListData=await Promise.all(getVideoMoreListData.datas.map(async item=>{\r\n          item.id=item.data.vid\r\n          let result=await request('/video/url',{id:item.id})\r\n          item.url=result.urls[0].url\r\n          return item\r\n        }))\r\n        let videoList = this.$data.videoLists\r\n        videoList.push(...videoListData)\r\n        // console.log(vide);\r\n        this.videoLists=videoList\r\n        console.log(this.videoLists);\r\n        },\r\n        onShareAppMessage: function( {from} ){\r\n          \r\n          if(from==='button'){\r\n            return{\r\n            title:'确定要转发吗?(button)',\r\n            page:'/pages/vedio/vedio',\r\n            }\r\n          }else{\r\n            return{\r\n              title:'确定要转发吗?(menu)',\r\n              page:'/pages/vedio/vedio',\r\n            }\r\n            \r\n          }\r\n          },\r\n          toSearch(){\r\n            uni.navigateTo({\r\n              url:'/pages/search/search'\r\n            })\r\n          }\r\n      }\r\n    }\n</script>\n\n<style lang=\"scss\">\n.videoContainer .header{\r\n  display: flex;\r\n  justify-content: space-between;\r\n}\r\n.videoContainer .header image{\r\n  width: 30px;\r\n  height: 30px;\r\n  padding-left: 5px;\r\n}\r\n.videoContainer .header .search{\r\n  width: 100%;\r\n  border: 1px solid #eee;\r\n  border-radius: 15px;\r\n  margin-left: 5px;\r\n}\r\n.videoContainer .header .search text{\r\n    height: 30px;\r\n    display: flex;\r\n    align-items: center;\r\n    font-size: 14px;\r\n    justify-content: center;\r\n    color: #d43c33;\r\n}\r\n.navScroll{\r\n  display: flex;\r\n  height: 35px;\r\n  white-space: nowrap;\r\n}\r\n.navScroll .navItem{\r\n  padding:0 15px;\r\n  font-size: 14px;\r\n  height: 30px;\r\n  line-height: 30px;\r\n}\r\n.navScroll .navItem .active{\r\n  border-bottom: 1px solid #d43c33;\r\n}\r\n.videoScroll{\r\n  margin-top: 5px;\r\n  height: calc(100vh - 72px);\r\n}\r\n.videoItem{\r\n  padding: 0 3%;\r\n}\r\n.videoItem video{\r\n  width: 100%;\r\n  height: 180px;\r\n  border-radius: 5px;\r\n}\r\n.videoItem .content {\n  font-size: 26rpx;\n  height:80rpx;\n  line-height: 80rpx;\n  max-width: 500rpx;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n\n/* footer */\n.footer {\n  border-top: 1rpx solid #eee;\n  padding: 20rpx 0;\n}\n.footer .avatar {\n  width: 60rpx;\n  height: 60rpx;\n  border-radius: 50%;\n  vertical-align: middle;\n}\n\n.footer  .nickName {\n  font-size: 26rpx;\n  vertical-align: middle;\n  margin-left: 20rpx;\n}\n\n.footer .comments_praised {\n  float: right;\n}\n\n.comments_praised .btn {\n  display: inline;\n  padding: 0;\n  background-color: transparent;\n  border-color: transparent;\n}\n\n.comments_praised .btn:after {\n  border: none;\n}\n\n.comments_praised .item {\n  margin-left: 50rpx;\n  position: relative;\n}\n\n.comments_praised .item .count {\n  position: absolute;\n  top: -20rpx;\n  font-size: 20rpx;\n}\r\n</style>\n","import mod from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vedio.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-2!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-3!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/sass-loader/dist/cjs.js??ref--8-oneOf-1-4!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader/index.js??ref--8-oneOf-1-5!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/index.js??vue-loader-options!../../../../../../Program Files/HBuilderX/plugins/uniapp-cli/node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./vedio.vue?vue&type=style&index=0&lang=scss&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1676723066899\n      var cssReload = require(\"D:/Program Files/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}